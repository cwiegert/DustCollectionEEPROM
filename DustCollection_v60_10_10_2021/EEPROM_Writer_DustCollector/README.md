## WIFI config for the EEPROM version ##

This app is used to initialize or chanage the dust collection configuration and load all the settings to EEPROM.   The dust collection app will not read the SD card, it will pull all settings from EEPROM, and the Blynk app defined below will be used to change those settings once your MCU is initilized.   To initilze the MCU, install the DustGatesDefinition v53.cfg onto an SD card, and load this .ino onto the board.   Setup will read all the config sections and give you menu options to load read sections of the confiuration.   

In the [global variables](https://github.com/cwiegert/DustCollectionEEPROM/blob/main/DustCollection_v60_10_10_2021/EEPROM_Writer_DustCollector/DustCollectorGlobals.h) you should set the EERPOM addresses where you want each section stored.   Be careful of adding gates or outlets, as you will need enough space for the additional structures.   There is enough memory space for 16 outlets and 20 blast gates.  and the baseline configuration can be loaded as an EEPROM image if you use option R in the main menu.   Option R will read DustCollectorEEPROM.cfg and load it byte by byte to EEPROM.   If you open the file in VSCode, you will be able to see the various parameters define in raw data format.   THere is a section towards the end of the file where a number of # signs are highlighed in a stream by an IP address.   That is ssid passcode placeholder.  Modify that, modify your IP address, update the auth code and you can start the wifi config on initialize of the MCU


This version will decrypt the [Config File](https://github.com/cwiegert/DustCollectionEEPROM/blob/main/DustCollection_v60_10_10_2021/EEPROM_Writer_DustCollector/DustWifi%20v53.cfg) through the Blynk app, and set the wifi connection parameters through the Blynk app.   However the [parameter definition](https://github.com/cwiegert/DustCollectionEEPROM/blob/main/DustCollection_v60_10_10_2021/DustWifi%20v53%20--%20keep%20this%20around%20for%20restore.cfg) has the original format of how parameters are set in the structure.    in Setup, the EEPROM app will decrypt and read the wifi config file name found in the main app configuration file.   The last line of the file is the name of the wifi config file.   To initialize the system from scratch, the startWifiFromConfig() will need a hard coded connection string to define how to link the arduino to the Blynk app.  Once that connection string is set, you can use the Encrypt section of the blynk app to reset the parameters in the EEPROM file.    

Alternatively, open the .ino file, search for startWifiFromConfig() select whether you are running local or to the blynk server, and redefine the commented line 639.   The line is currently commented and used for the reference on how to hard code parameters for initilization.   Documentation can be found [here](http://docs.blynk.cc/#getting-started-getting-started-with-the-blynk-app) and can be a bit tricky to figure out.   first and formost, connect the blynk app to "A" blynk server - whether local or the blynk.com server - and connect the blynk app to the server - then generate a key.   That key, will be the auth key in the parameters setting.

[Blynk Application QR Code](https://github.com/cwiegert/DustCollectionEEPROM/blob/main/DustCollection_v60_10_10_2021/BlynkApplication.jpeg)



